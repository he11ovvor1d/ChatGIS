<!DOCTYPE html>
<html>
  <head>
    <title>GeoJSON</title>
    <script>
    const pgp = require('pg-promise')();
    const db = pgp("postgres://postgres:password@localhost/database");
</script>
  </head>
  <body>
    <div id="map" class="map" style="height: 180px;width: 180px;"></div>
    <script>
      db.any('SELECT * FROM POI')
  .then(data => {
    console.log(data);
  })
  .catch(error => {
    console.log(error);
  });
//      var query = client.query("SELECT * FROM POI");
// var features = [];
// query.on('row', function(row) {
//   var feature = {
//     "type": "Feature",
//     "geometry": {
//       "type": "Point",
//       "coordinates": [row.lon, row.lat]
//     },
//     "properties": {
//       "name": row.name,
//       "description": row.description
//     }
//   };
//   features.push(feature);
// });
// query.on('end', function(){
//   var geojson = {
//     "type": "FeatureCollection",
//     "features": features
//   };
//   var map = L.map('map').setView([51.505, -0.09], 13);
//   L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
//     attribution: 'Map data &copy; OpenStreetMap contributors'
//   }).addTo(map);
//   L.geoJSON(geojson).addTo(map);
// });
    </script>
  </body>
</html>